@page "/"
@using ShopOnline.Models
@inherits ProductsBase

@*@code {

}*@

@if(Products == null)
{
	<h3>Loading Products</h3>
}
else
{
	<h3 class="mb-5">Products</h3>

	var productsCount = Products.Count();

	@if (productsCount > 0)
	{
		const int itemsPerRow = 4;
		var productListRow = new List<ProductDto>();
		var productsGroupByCategory = Products.GroupBy(p => new { Id = p.CategoryId, Name = p.CategoryName });			

		@foreach(var group in productsGroupByCategory)
		{			
			<h4>@group.Key.Name</h4>
			<div class="row mt-3">
				<DisplayProducts Products="@group"></DisplayProducts>
			</div>
			<hr />
		}
	
	}
}
